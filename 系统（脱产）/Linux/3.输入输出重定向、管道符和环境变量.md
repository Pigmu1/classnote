# 3.输入输出重定向、管道符和环境变量

## 输入输出重定向

输入重定向是指把文件导入到命令中，而输出重定向则是指把原本要输出到屏幕的数据信息写入到指定文件中。  

标准输入重定向（STDIN，文件描述符为0）：默认从键盘输入，也可从其他文件或命令中输入。  
标准输出重定向（STDOUT，文件描述符为1）：默认输出到屏幕。  
错误输出重定向（STDERR，文件描述符为2）：默认输出到屏幕。  

### 输入重定向中用到的符号及其作用

| 符号             | 作用                      |
|----------------|-------------------------|
| 命令 < 文件        | 将文件作为命令的标准输入            |
| 命令 << 分界符      | 从标准输入中读入，直到遇见分界符才停止     |
| 命令 < 文件1 > 文件2 | 将文件1作为命令的标准输入并将标准输出到文件2 |

统计系统中一共有多少个用户  

```shell
# wc -l < /etc/passwd
21
```

### 输出重定向中用到的符号及其作用

| 符号            | 作用                             |
|---------------|--------------------------------|
| 命令 > 文件       | 将标准输出重定向到一个文件中（清空原有文件的数据）      |
| 命令 2> 文件      | 将错误输出重定向到一个文件中（清空原有文件的数据）      |
| 命令 >> 文件      | 将标准输出重定向到一个文件中（追加到原有内容的后面）     |
| 命令 2>> 文件     | 将错误输出重定向到一个文件中（追加到原有内容的后面）     |
| 命令 >> 文件 2>&1 | 将标准输出与错误输出共同写入到文件中（追加到原有内容的后面） |
| 或             |                                |
| 命令 &>> 文件     |

将"hello world"标准重定向输出到当前目录下文件hello.txt中  

```shell
# echo "hello world" > hello.txt
```

将"hello eagle" 标准重定向追到当前目录下文件hello.txt中  

```shell
# echo "hello eagle" >> hello.txt
```

将指定网卡信息追加到文件hello.txt中，如果有错误则将错误追加到这个文件中  

```shell
# ifconfg eth0 >> hello.txt     #如果有eth0这块网卡，则会将eth0信息直接追加到hello.txt文件最后；如果没有eth0这块网卡会报错，错误会显示在屏幕上，错误不会写入到hello.txt中
# ifconfig eth0 2>> hello.txt   #如果没有eth0这块网卡不会在屏幕上输出错误信息，错误会直接写入到hello.txt中
```