# 交换基础

## 二层交换的特征

    基于硬件的交换  
    线速转发性能  
    低延迟  
    定义mac地址  
    分两个子层 ：  
        1.MAC子层  
        2.LLC子层  

### mac地址

MAC地址有48位，通常被表示为点分十六进制数。（有些时候我们也需要用到冒分十六进制）  
MAC地址全球唯一，由IEEE对这些地址进行管理和分配。  
每个地址由两部分组成，分别是供应商代码和序列号。其中前24位二进制代表该供应商代码。剩下的24位由厂商自己分配。  

### cam表

cam表也称为mac地址表  
在交换机启动后，会初始化mac地址表，这时候mac地址表内不会有任何内容  
mac地址表分为4个字段：  
Vlan，Mac Address，Type，Ports  

mac地址表在接入的设备有数据过来之后会学习到接口对应设备的mac地址，当设备A去访问设备B的时候，这时候学习到了设备A接口对应的mac地址，将设备A发出来的数据包进行泛洪，当设备B发现这个包是给自己的时候，会进行回包，数据回来的时候，设备B对应的接口也会学习到设备B的mac地址，这时候mac地址表里就会有两台设备的mac地址。  

交换机接口绑定mac地址和vlan
SW1(config)#mac address-table static aabb.cc00.0200 vlan 1 interface e0/0

## VLAN概念

一个VLAN钟所有设备都是在同一广播域内，不同的VLAN为不同的广播域。  
VLAN之间互相隔离，广播域不能跨越VLAN传播，因此不同VLAN之间的设备一般无法互访，不同VLAN间需通过三层设备实现互相通信。  
一个VLAN一般为一个逻辑子网，由被配置为此VLAN成员的设备组成。  
VLAN中成员多基于交换机的端口分配，划分VLAN就是对交换机的接口划分。  
VLAN工作于OSI参考模型的第二层。  
VLAN是二层交换机的一个非常根本的工作机制。  

当一条链路，需要承载多VLAN信息的时候，需使用trunk来实现。  
Trunk两端的交换机需采用相同的干道协议。  
一般见于交换机之间或交换机与路由器、服务器之间。  

